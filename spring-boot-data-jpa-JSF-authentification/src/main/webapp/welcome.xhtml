<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:p="http://primefaces.org/ui" template="/template/template.xhtml">


<h:panelGroup>
	<h:form>
		<h:outputText value="Bonjour #{employeController.employe.login}" />

	</h:form>
	<br></br>
</h:panelGroup>

<h:panelGroup columns="2">
<h:form>
<table>
<tr>
<td><h:outputText value="Email"></h:outputText></td>

<td><h:inputText id = "EmailValidator" value="#{employeController.email}" required="true" requiredMessage ="Champ oblogatoire">
<f:validateLength minimum="5" maximum="50" />
<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
</h:inputText></td>
<td><h:message for= "EmailValidator" style ="color:red"/></td>

</tr>
<tr>
<td><h:outputText value="Login"></h:outputText></td>
<td><h:inputText value="#{employeController.login}"></h:inputText></td>
</tr>
<tr>
<td><h:outputText value="Mot de Passe"></h:outputText></td>
<td><h:inputSecret value ="#{employeController.password}"></h:inputSecret></td>
</tr>

<tr>
<td><h:outputText value="Date"></h:outputText></td>
<td><h:inputText value="#{employeController.ladate}"></h:inputText> </td>
</tr>


<tr>
<td><h:outputText value ="Role"></h:outputText></td>
 <td><h:selectOneMenu value="#{employeController.role}" required="true">
<f:selectItems value="#{data.roles}" /> 
</h:selectOneMenu>
</td>
</tr>
<tr>
<td><h:outputText value ="Actif / Inactif"></h:outputText></td>
<td><h:selectBooleanCheckbox value="#{employeController.isActif}"></h:selectBooleanCheckbox></td></tr>
<tr><td> 
<br></br><h:commandButton value="Ajouter" action="#{employeController.ajouterEmploye()}" /> <br></br>
</td></tr>

<tr><td> 
<br></br> <h:commandButton value="Modifier" action="#{employeController.mettreAjourEmploye()}" /><br></br>
</td></tr> 

</table>
</h:form>
</h:panelGroup>

<h:panelGroup columns="2">
<h:form>
<h:dataTable value="#{employeController.employes}" var ="employe" border="1">
<h:column>
<f:facet name="header">
<h:outputText value="Email" />
</f:facet>
<h:outputText value="#{employe.email}" />
</h:column>
<h:column>
<f:facet name="header">
<h:outputText value="Role" />
</f:facet>
<h:outputText value="#{employe.role}" />
</h:column>
<h:column>
<f:facet name="header">
<h:outputText value="Date" />
</f:facet>
<h:outputText value="#{employe.ladate}" />
</h:column>
<h:column>
<f:facet name="header">
<h:outputText value="Actif" />
</f:facet>
<h:outputText value =" #{employe.isActif == true ? 'Oui' : 'Non'}" />
</h:column>
<h:column>
<f:facet name="header">
<h:outputText value="Action" />
</f:facet>
<h:commandButton action ="#{employeController.removeEmploye(employe.id)}"
value ="Supprimer" />
<h:commandButton action="#{employeController.modifier(employe)}"
value ="Modifier" />
</h:column>
</h:dataTable>


		<br></br><tr><td> <h:commandLink value="DÃ©connexion"
			action="#{employeController.doLogout()}" /></td></tr>
</h:form>
</h:panelGroup>
</html>
